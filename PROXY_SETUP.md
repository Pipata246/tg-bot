# Настройка прокси для OpenAI

OpenAI блокирует запросы из России и некоторых других стран. Для работы бота нужно настроить прокси.

## Варианты решения

### 1. Бесплатные публичные прокси (не рекомендуется для продакшена)

**Сайты с бесплатными прокси:**
- https://free-proxy-list.net/
- https://www.proxy-list.download/
- https://www.sslproxies.org/

**Как использовать:**
1. Выберите прокси из списка (желательно HTTPS или SOCKS5)
2. Скопируйте IP и порт
3. Добавьте в `.env`:
```
PROXY_URL=http://123.45.67.89:8080
```

**Минусы:**
- Нестабильные
- Медленные
- Могут не работать с OpenAI
- Небезопасные

### 2. Платные прокси-сервисы (рекомендуется)

#### Bright Data (бывший Luminati)
- Сайт: https://brightdata.com/
- Цена: от $500/мес
- Качество: отличное

#### Smartproxy
- Сайт: https://smartproxy.com/
- Цена: от $12.5/мес
- Качество: хорошее

#### Oxylabs
- Сайт: https://oxylabs.io/
- Цена: от $300/мес
- Качество: отличное

#### Webshare
- Сайт: https://www.webshare.io/
- Цена: от $2.99/мес (10 прокси)
- Качество: хорошее для начала

**Настройка:**
```
PROXY_URL=http://username:password@proxy.example.com:8080
```

### 3. VPN на сервере

Если у вас есть VPS в другой стране:

1. Установите VPN (WireGuard, OpenVPN)
2. Запустите бота на этом сервере
3. Прокси не нужен

### 4. Локальный прокси через VPN

Если у вас есть VPN на компьютере:

1. Установите локальный прокси-сервер (например, Privoxy)
2. Настройте его на использование VPN
3. Укажите в `.env`:
```
PROXY_URL=http://127.0.0.1:8118
```

## Настройка Privoxy (Windows)

1. Скачайте: https://www.privoxy.org/
2. Установите
3. Включите VPN на компьютере
4. В `.env` укажите:
```
PROXY_URL=http://127.0.0.1:8118
```

## Проверка прокси

После настройки прокси перезапустите бота:
```bash
python bot.py
```

В логах должно появиться:
```
Используется прокси: http://...
```

Попробуйте отправить сообщение боту. Если работает - прокси настроен правильно!

## Альтернативные API

Если прокси не подходит, можно использовать альтернативные API:

### OpenRouter
- Сайт: https://openrouter.ai/
- Доступ к GPT-4, Claude, и другим моделям
- Работает из России
- Нужно изменить base_url в коде

### Groq
- Сайт: https://groq.com/
- Бесплатный доступ к Llama и другим моделям
- Очень быстрый
- Работает из России

## Поддержка

Если возникли проблемы:
1. Проверьте формат PROXY_URL
2. Убедитесь, что прокси работает (проверьте в браузере)
3. Попробуйте другой прокси
4. Проверьте логи бота на наличие ошибок
